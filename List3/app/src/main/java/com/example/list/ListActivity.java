package com.example.list;

import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.SearchView;
import androidx.core.view.MenuItemCompat;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;

import java.util.ArrayList;
import java.util.List;

import com.example.list.adapter.StarAdapter;
import com.example.list.service.StarService;
import ma.ensa.list.R;
import com.example.list.beans.Star;


public class ListActivity extends AppCompatActivity {
    private List<Star> stars;
    private RecyclerView recyclerView;
    private StarAdapter starAdapter = null;

    private StarService service;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_list);
        stars = new ArrayList<>();
        service = StarService.getInstance();
        init();
        recyclerView = findViewById(R.id.recycle_view);
        starAdapter = new StarAdapter(this, service.findAll());
        recyclerView.setAdapter(starAdapter);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.menu, menu);
        MenuItem menuItem = menu.findItem(R.id.app_bar_search);
        SearchView searchView = (SearchView) MenuItemCompat.getActionView(menuItem);
        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
            @Override
            public boolean onQueryTextSubmit(String query) {
                return true;
            }
            @Override
            public boolean onQueryTextChange(String newText) {
                if (starAdapter != null){
                    starAdapter.getFilter().filter(newText);
                }
                return true;
            }
        });
        return true;
    }

    public void init() {
        service.create(new Star("Safae Hachem", "https://media.licdn.com/dms/image/D4E03AQGaOCNQoEoWUQ/profile-displayphoto-shrink_800_800/0/1684276091014?e=1703116800&v=beta&t=kF4B5RL_shZKf1OLvDHEhviIlTgXrNBNl4fX0bfsLWA", 5f));
        service.create(new Star("Kate bosworth", "https://hollywoodlife.com/wp-content/uploads/2016/09/kate-bosworth-bio-photo-rex.jpg?quality=100", 4));
        service.create(new Star("michelle rodriguez", "https://images.mubicdn.net/images/cast_member/23070/cache-2969-1557516196/image-w856.jpg", 5));
        service.create(new Star("george clooney", "data:image/jpeg;base64,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", 1));
        service.create(new Star("louise bouroin", "https://fr.web.img4.acsta.net/pictures/15/10/06/10/23/291029.jpg", 1));
        service.create(new Star("louise bouroin", "https://fr.web.img4.acsta.net/pictures/15/10/06/10/23/291029.jpg", 1));
    }
}